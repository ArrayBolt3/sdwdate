#!/bin/bash

## Copyright (C) 2012 - 2018 ENCRYPTED SUPPORT LP <adrelanos@riseup.net>
## See the file COPYING for copying conditions.

set -e

pgrep_result="$(pgrep -f "/usr/lib/sdwdate/sclockadj")"

## Only newlines and numbers allowed.
if [[ ! "$pgrep_result" == *[!0-9"
"]* ]]; then
   true "pgrep_result is strictly numeric, ok"
else
   true "pgrep_result is not strictly numeric, exit."
   exit 0
fi

kill -s sigkill $pgrep_result || true

exit 0
